/**
 * @file Client JS file that will be required by every functions of plugin
 *
 * @copyright 2016 iThoughts Informatique
 * @license https://raw.githubusercontent.com/iThoughts-Informatique/iThoughts-Advanced-Code-Editor/master/LICENSE GPL3.0
 * @package ithoughts_advanced_code_editor
 *
 * @version 1.2.1
 */
window.ace_editors=[],ithoughts_ace.setAceOpts=function(e,t,i){var o={editor:e,lang:t};"undefined"!=typeof i&&(o.opts=i,window.ace_editors.push(o)),ithoughts_ace.update_editor_style(e,ithoughts_ace.theme);var a=e.getSession();-1!=Object.keys(ithoughts_ace.langs).indexOf(t)&&a.setMode("ace/mode/"+ithoughts_ace.langs[t]),a.setUseWrapMode(!0),a.setUseWorker(!1),e.setShowPrintMargin(!1),e.setOptions({tooltipFollowsMouse:!0,displayIndentGuides:!0,fontSize:"16px",cursorStyle:"wide",highlightSelectedWord:!0,highlightActiveLine:!0,behavioursEnabled:!0,showFoldWidgets:!0,tabSize:4,useSoftTabs:!1,enableBasicAutocompletion:ithoughts_ace.autocompletion.autocompletion_ondemand===!0,enableSnippets:!0,enableLiveAutocompletion:ithoughts_ace.autocompletion.autocompletion_live===!0})},ithoughts_ace.update_editor_style=function(e,t){e.setTheme("ace/theme/"+t)},$d.ready(function(){ace.config.set("basePath",ithoughts_ace.basepath),ace.require("ace/ext/beautify");var e=$(".ace-editor");e.each(function(e,t){var i=t.getAttribute("id");null==i&&(i=(new Date).getTime()+"_"+$(t).offset().top+$(t).offset().left+"_"+$(t).width()+$(t).height(),t.setAttribute("id",i));var o=t.getAttribute("data-lang"),a=t.cloneNode();a.removeAttribute("id");var s=$(a);s.css({opacity:0,height:0,width:0,minHeight:0,minWidth:0,position:"absolute",top:"50%",left:"50%",padding:0,margin:0});var n=($(t).parent(),ace.edit(i));n.getSession().on("change",function(){s.val(n.getSession().getValue())}),$(n.container).prepend(s),a.setAttribute("id",i),s.focusin(function(){n.focus()}),ithoughts_ace.setAceOpts(n,o)})});