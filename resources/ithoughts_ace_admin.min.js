$d.ready(function(){function e(e,t){e.setTheme("ace/theme/"+ithoughts_ace.theme),-1!=Object.keys(o).indexOf(t)&&e.getSession().setMode("ace/mode/"+o[t]),e.getSession().setUseWrapMode(!0),e.setShowPrintMargin(!1),e.setOptions({tooltipFollowsMouse:!0,displayIndentGuides:!0,fontSize:"16px",cursorStyle:"wide",highlightSelectedWord:!0,highlightActiveLine:!0,behavioursEnabled:!0,showFoldWidgets:!0,enableBasicAutocompletion:ithoughts_ace.autocompletion.autocompletion_ondemand===!0,enableSnippets:!0,enableLiveAutocompletion:ithoughts_ace.autocompletion.autocompletion_live===!0})}function t(){window.matchMedia("(max-width:783px)").matches?$container.css({marginRight:0}):$container.css({marginRight:200})
var e={top:$w.scrollTop()+32,bottom:$w.scrollTop()+$w.height()},t=$container.offset().top-(parseInt($container.css("top"))||0),o=Math.max(0,e.top-t)
$container.css({top:o})
var n=e.bottom-Math.max(t,e.top)
console.log($w.height(),n)
var i=$container.height()-$editorContainer.height()
console.log(i)
var a=n-i-(parseFloat($("#template p.submit").css("margin-bottom"))||0)
$editorContainer.height(a),l.resize()}var o={php:"php",css:"css",html:"html",js:"javascript"};("undefined"==typeof ithoughts_ace.autocompletion||null==ithoughts_ace.autocompletion)&&(ithoughts_ace.autocompletion={})
var n=$("#template #newcontent")
if(n.length>0){var i=n[0].cloneNode(),a=$(i)
a.css({display:"none"})
var s=n.parent(),c=qs('[name="file"]')
c&&(c=c.value),c&&(c=c.replace(/^.+\.(\w+?)$/,"$1"))
var l=ace.edit("newcontent")
s.append(i),l.getSession().on("change",function(){a.val(l.getSession().getValue())}),e(l,c),editorContainer=l.container,$editorContainer=$(editorContainer),$container=$("#template"),$container.css({position:"relative"}),$w.resize(t).scroll(t).scroll()}})
